<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🇧🇬 Bulgaria Weather App</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.22.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const BulgariaWeatherApp = () => {
            const [selectedCity, setSelectedCity] = useState('Sofia');
            const [weatherData, setWeatherData] = useState(null);
            const [forecastData, setForecastData] = useState([]);
            const [loading, setLoading] = useState(false);
            const [activeTab, setActiveTab] = useState('today');

            const cities = [
                'Sofia', 'Plovdiv', 'Varna', 'Burgas', 'Ruse', 'Stara Zagora', 
                'Pleven', 'Sliven', 'Dobrich', 'Shumen'
            ];

            const getWeatherData = (city) => {
                const conditions = ['Sunny', 'Cloudy', 'Rainy', 'Snowy'];
                const temps = Math.floor(Math.random() * 25) + 5;
                const condition = conditions[Math.floor(Math.random() * conditions.length)];
                
                return {
                    city: city,
                    temperature: temps,
                    condition: condition,
                    humidity: Math.floor(Math.random() * 40) + 40,
                    wind: Math.floor(Math.random() * 15) + 5
                };
            };

            const getForecastData = (city) => {
                const conditions = ['Sunny', 'Cloudy', 'Rainy', 'Snowy'];
                const days = ['Today', 'Tomorrow', 'Thu', 'Fri', 'Sat', 'Sun', 'Mon'];
                const forecast = [];

                for (let i = 0; i < 7; i++) {
                    const baseTemp = Math.floor(Math.random() * 25) + 5;
                    forecast.push({
                        day: days[i],
                        condition: conditions[Math.floor(Math.random() * conditions.length)],
                        high: baseTemp + Math.floor(Math.random() * 5),
                        low: baseTemp - Math.floor(Math.random() * 8),
                        humidity: Math.floor(Math.random() * 40) + 40,
                        wind: Math.floor(Math.random() * 15) + 5
                    });
                }
                return forecast;
            };

            const fetchWeather = () => {
                setLoading(true);
                setTimeout(() => {
                    const data = getWeatherData(selectedCity);
                    const forecast = getForecastData(selectedCity);
                    setWeatherData(data);
                    setForecastData(forecast);
                    setLoading(false);
                }, 500);
            };

            useEffect(() => {
                fetchWeather();
            }, [selectedCity]);

            const getWeatherEmoji = (condition) => {
                switch (condition) {
                    case 'Sunny': 
                        return '☀️';
                    case 'Cloudy': 
                        return '☁️';
                    case 'Rainy': 
                        return '🌧️';
                    case 'Snowy': 
                        return '❄️';
                    default: 
                        return '🌤️';
                }
            };

            return (
                <div className="min-h-screen p-5 bg-gradient-to-br from-blue-400 to-blue-600">
                    <div className="max-w-md mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden">
                        
                        <div className="bg-gradient-to-r from-green-400 to-teal-500 p-5 text-center text-white">
                            <h1 className="text-2xl font-bold m-0">🇧🇬 Bulgaria Weather</h1>
                            <p className="mt-1 opacity-90">Current conditions</p>
                        </div>

                        <div className="p-5">
                            <label className="block mb-2 font-bold text-gray-800">
                                Select City:
                            </label>
                            <select 
                                value={selectedCity}
                                onChange={(e) => setSelectedCity(e.target.value)}
                                className="w-full p-3 rounded-lg border-2 border-gray-300 text-base bg-white"
                            >
                                {cities.map(city => (
                                    <option key={city} value={city}>{city}</option>
                                ))}
                            </select>
                        </div>

                        <div className="px-5 pb-5">
                            <div className="flex mb-5 bg-gray-100 rounded-lg p-1">
                                <button 
                                    onClick={() => setActiveTab('today')}
                                    className={`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${
                                        activeTab === 'today' 
                                            ? 'bg-white text-blue-600 shadow-sm' 
                                            : 'text-gray-600 hover:text-gray-800'
                                    }`}
                                >
                                    Today
                                </button>
                                <button 
                                    onClick={() => setActiveTab('forecast')}
                                    className={`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${
                                        activeTab === 'forecast' 
                                            ? 'bg-white text-blue-600 shadow-sm' 
                                            : 'text-gray-600 hover:text-gray-800'
                                    }`}
                                >
                                    7-Day Forecast
                                </button>
                            </div>

                            {loading ? (
                                <div className="text-center py-10">
                                    <div className="w-10 h-10 border-4 border-gray-200 border-t-blue-500 rounded-full animate-spin mx-auto mb-5"></div>
                                    <p>Loading weather...</p>
                                </div>
                            ) : activeTab === 'today' && weatherData ? (
                                <div>
                                    <div className="bg-gray-50 rounded-xl p-8 text-center mb-5">
                                        <h2 className="text-3xl font-bold text-gray-800 mb-5">
                                            {weatherData.city}
                                        </h2>
                                        
                                        <div className="text-8xl my-5">
                                            {getWeatherEmoji(weatherData.condition)}
                                        </div>
                                        
                                        <div className="text-5xl font-bold text-blue-500 my-5">
                                            {weatherData.temperature}°C
                                        </div>
                                        
                                        <p className="text-xl text-gray-600 mt-3">
                                            {weatherData.condition}
                                        </p>
                                    </div>

                                    <div className="grid grid-cols-2 gap-4 mb-5">
                                        <div className="bg-red-400 text-white p-5 rounded-xl text-center">
                                            <div className="text-2xl mb-1">💧</div>
                                            <div className="text-sm opacity-90">Humidity</div>
                                            <div className="text-lg font-bold">{weatherData.humidity}%</div>
                                        </div>
                                        
                                        <div className="bg-teal-400 text-white p-5 rounded-xl text-center">
                                            <div className="text-2xl mb-1">💨</div>
                                            <div className="text-sm opacity-90">Wind Speed</div>
                                            <div className="text-lg font-bold">{weatherData.wind} km/h</div>
                                        </div>
                                    </div>

                                    <button 
                                        onClick={fetchWeather}
                                        className="w-full p-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white border-none rounded-xl text-base font-bold cursor-pointer hover:scale-105 transition-transform"
                                    >
                                        🔄 Refresh Weather
                                    </button>
                                </div>
                            ) : activeTab === 'forecast' && forecastData.length > 0 ? (
                                <div>
                                    <h3 className="text-xl font-bold text-gray-800 mb-4 text-center">
                                        7-Day Weather Forecast
                                    </h3>
                                    
                                    <div className="space-y-3">
                                        {forecastData.map((day, index) => (
                                            <div key={index} className="bg-gray-50 rounded-lg p-4 flex items-center justify-between">
                                                <div className="flex items-center space-x-4">
                                                    <div className="text-2xl">
                                                        {getWeatherEmoji(day.condition)}
                                                    </div>
                                                    <div>
                                                        <div className="font-semibold text-gray-800">
                                                            {day.day}
                                                        </div>
                                                        <div className="text-sm text-gray-600">
                                                            {day.condition}
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div className="text-right">
                                                    <div className="font-bold text-gray-800">
                                                        {day.high}° / {day.low}°
                                                    </div>
                                                    <div className="text-sm text-gray-500">
                                                        💧 {day.humidity}% • 💨 {day.wind}km/h
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>

                                    <button 
                                        onClick={fetchWeather}
                                        className="w-full mt-5 p-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white border-none rounded-xl text-base font-bold cursor-pointer hover:scale-105 transition-transform"
                                    >
                                        🔄 Refresh Forecast
                                    </button>
                                </div>
                            ) : null}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<BulgariaWeatherApp />);
    </script>
</body>
</html>